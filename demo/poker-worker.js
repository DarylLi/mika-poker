onmessage=function(t){const e=t.data[0]*t.data[1],a=(t,e)=>{let r=[];const n=(t,e)=>{let a=Array.from(new Set(t)).map(t=>({...e[t]})),r=e.filter(t=>!a.map(t=>t.order).includes(t.order));return{curDoneList:a,remainList:r}};for(var s=0;s<t;s++)r.push(Math.round(Math.random()*(e.length-1)));if(r.length===Array.from(new Set(r)).length)try{return r.map(t=>({...e[t]}))}catch(t){console.log(t)}else try{const{curDoneList:s,remainList:o}=n(r,e);return[...s,...a(t-s.length,o)]}catch(s){const{curDoneList:o,remainList:c}=n(r,e);return[...o,...a(t-o.length,c)]}};if("getRandom"===t.data[0]){const e=t.data[2],r=t.data[3];let n={dataIndex:t.data[1],dataArray:a(e,r)};postMessage(n)}else{postMessage("Result: "+e)}};